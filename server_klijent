from connection import start_server, listen_for_broadcast, connect_to_server, MyIP
from other import send_messages, receive_messages
import threading

def main():
    # Start the server thread
    server_thread = threading.Thread(target=start_server, args=(MyIP(),), daemon=True)
    server_thread.start()

    # Start listening for broadcasts to connect to other peers
    broadcast_thread = threading.Thread(target=listen_for_broadcast, daemon=True)
    broadcast_thread.start()

    while True:
        # Wait to automatically connect to discovered peers
        pass

if __name__ == "__main__":
    main()
